<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <header></header>
  <main>
    <div class="wrapper" id="mainyyy"></div>
  </main>
  <footer></footer>

  <script>
		keys = {
      '0': {0:'q',1:'w',2:'e',3:'r',4:'t',5:'y',6:'u',7:'i',8:'o',9:'p',length:10},
      '1': {0:'a',1:'s',2:'d',3:'f',4:'g',5:'h',6:'j',7:'k',8:'l',length:9},
      '2': {0:'z',1:'x',2:'c',3:'v',4:'b',5:'n',6:'m',length:7},
      'length': 3
    }
    hash = {
      q: 'qzone.qq.com',
      w: 'weibo.com',
      e: 'ele.me',
      r: 'name.renren.com',      
      t: 'taobao.com',
      y: 'yixieshi.com',
      u: 'uc.cn',
      i: 'iconfont.cn',
      o: 'aotu.io',
      p: 'proginn.com',
      a: 'alipay.com',
      s: 'stackoverflow.com',
      d: 'daimadog.com',
      f: 'ifeng.com',
      g: 'github.com',
      h: 'huxiu.com',
      j: 'juejin.im',
      k: '36kr.com',
      l: 'layui.com',
      z: 'zhihu.com',
      x: 'xunlei.com',
      c: 'csdn.net',
      v: 'v2ex.com',
      b: 'bootcdn.cn',
      n: 'cnodejs.org',
      m: 'mint-ui.github.io/#!/zh-cn',
    }
    
    // 取出 localStorage 中的 uuu 对应的 hash
    hashInLocalStorage = JSON.parse(localStorage.getItem('uuu') || 'null')
    if(hashInLocalStorage){
      hash = hashInLocalStorage
    }
    
    // 遍历 key 生成 kbd
    index = 0
    while(index < keys.length){
      divxxx = document.createElement('div')
      mainyyy.appendChild(divxxx)
      row = keys[index]  // 第一个数组、第二个数组、第三个数组
      index2 = 0
      while(index2 < row.length){
        kbdzzz = document.createElement('kbd')
        kbdzzz.textContent = row[index2]
        buttonX = document.createElement('button')
        buttonX.textContent = 'Edit'
        kbdzzz.appendChild(buttonX)
        buttonX.id = row[index2]  // q、w、e...
        buttonX.onclick = function(abc){
          keyX = abc.target.id
          x = prompt('请输入新的网址')
          hash[keyX] = x  //hash变更
          localStorage.setItem('uuu', JSON.stringify(hash))
          console.log(hash)
        }
        divxxx.appendChild(kbdzzz)
        index2 = index2 + 1
      }
      index = index + 1
    }
    
    // 监听键盘事件
    document.onkeypress = function(abc){
      key = abc.key
      webSite = hash[key]
      // location.href = 'http://' + webSite
      window.open('http://'+ webSite, '_black')
    }
  </script>
</body>
</html>